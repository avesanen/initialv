// Generated by CoffeeScript 1.6.2
/*
# A keyboard handler. Supports multiple simultaneous keys in basic
# game programming style.
*/


(function() {
  define(["jquery", "exports"], function($, exports) {
    var keyStates, onKeyboard;
    onKeyboard = function(e) {
      if (!(e.type === "keydown" ? keyStates[e.keyCode] : void 0)) {
        keyStates[e.keyCode] = true;
      }
      if (e.type === "keyup" ? keyStates[e.keyCode] : void 0) {
        return keyStates[e.keyCode] = false;
      }
    };
    keyStates = {};
    $(window).bind("keydown", function(e) {
      return onKeyboard(e);
    });
    $(window).bind("keyup", function(e) {
      return onKeyboard(e);
    });
    /*
    # Return true if a key is being held down at the moment
    # @param key keycode
    # @return {Boolean}
    */

    exports.keyDown = function(key) {
      if (keyStates[key]) {
        return true;
      } else {
        return false;
      }
    };
    /*
    # Force release of a key, so that user has to press it again to have it
    # work again.
    # @param key keycode
    */

    exports.releaseKey = function(key) {
      return keyStates[key] = false;
    };
  });

}).call(this);
